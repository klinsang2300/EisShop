/* components/ImageSlider.css */

/* Keyframes สำหรับ Fade */
@keyframes fadeOutAnimation {
    from { opacity: 1; }
    to { opacity: 0; }
}

@keyframes fadeInAnimation {
    from { opacity: 0; }
    to { opacity: 1; }
}

.slider-container {
    height: fit-content;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;

    .slider-con {
        display: flex;
        justify-content: center;

        .slider-image-wrapper {
            position: relative; /* สำคัญ: parent ต้องมี position: relative */
            width: 1350px;
            height: 750px;
            overflow: hidden;
            flex: 1;
            /* ไม่ต้องมี opacity/transition ตรงนี้แล้ว */

            .slide-item {
                position: absolute; /* ทำให้ div ซ้อนทับกัน */
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                opacity: 1; /* ค่าเริ่มต้น */
                pointer-events: none; /* เพื่อให้คลิกผ่านไปยัง div อื่นได้ (ถ้ามี) */

                .slide-image {
                    object-fit: cover;
                    /* ไม่มี opacity/transition ตรงนี้แล้ว */
                    /* Next.js Image component จะจัดการ position: absolute, top, left, width, height เองเมื่อใช้ fill */
                }
            }

            .current-slide {
                z-index: 2; /* รูปภาพใหม่ต้องอยู่ด้านบน */
                /* เมื่อ div นี้ถูก render ใหม่ (จากการเปลี่ยน key)
                   animation fade-in จะเริ่มทำงานทันที */
                animation: fadeInAnimation 1s ease-in forwards;
            }

            .previous-slide {
                z-index: 1; /* รูปภาพเก่าอยู่ด้านล่าง */
                /* animation fade-out จะถูกเพิ่มด้วย JavaScript */
                /* animation: fadeOutAnimation 1s ease-in forwards; */ /* ไม่ต้องใส่ตรงนี้ ให้ JS ใส่เมื่อต้องการ */
            }

            /* คลาสที่ใช้โดย JavaScript สำหรับ fade-out */
            .previous-slide.fade-out {
                animation: fadeOutAnimation 1s ease-in forwards;
            }
        }

        .slider-arrow {
            border: none;
            color: #B7C2D3;
            cursor: pointer;
            opacity: 1;
            transition: opacity 1s ease, background-color 1s ease;

            &:disabled { /* เพิ่มสไตล์สำหรับปุ่มที่ถูก disabled */
                opacity: 1;
                cursor: not-allowed;
            }

            svg {
                width: 6rem;
                height: 6rem;
            }
        }
    }

    .slider-dots {
        margin-block: 1rem;
        display: flex;
        height: fit-content;
        align-items: center;
        gap: 1rem;

        .dot {
            width: 1.186rem;
            height: 1.186rem;
            border-radius: 50%;
            background-color: #E2E2E2;
            opacity: 0.5;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(50px);
        }

        .dot.active {
            background-color: rgba(99, 115, 140, 0.3);
            transform: scale(1.3); /* แก้ไขเป็นค่าที่ถูกต้อง */
            line-height:0.5%;
            backdrop-filter: blur(50px);
        }
    }
}